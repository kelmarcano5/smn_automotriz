<!doctype html>
<html>

<head>

	<link rel="stylesheet" type="text/css" href="${def:context}/dinamica.css" />
	
	<script type="text/javascript" src="${def:context}/action/script">
	</script>


<script type="text/javascript">

	onload = function() { 
			carga();
		} 

  function carga(){

  	var serie = document.getElementById("sri_codigo").value;
  	var datosPaciente = document.getElementById("cvm_datos_pac").value;
  	var unidad = document.getElementById("cvm_unidad_llamada").value;
  	var pacienteEspera = document.getElementById("cvm_pacientes_espera").value;
  	var tiempo = document.getElementById("cvm_tiempo_aprox_espera").value;

  	if (datosPaciente.trim() == 'S'){

  		var tr = document.getElementById('tabla').tHead.children[0],
			    th = document.createElement('th');
		th.innerHTML = "${lbl:b_paciente}";
		tr.appendChild(th);

		var tbl =  document.getElementById('tabla').getElementsByTagName('tbody')[0];
		var tr = tbl.getElementsByTagName('tr')[0];

		td = document.createElement('td');
		td.setAttribute('id',"smn_auxiliar_rf_combo");
		td.innerHTML = "${fld:smn_auxiliar_rf_combo}";
		tr.appendChild(td);


		var tr = document.getElementById('tabla2').tHead.children[0],
			    th = document.createElement('th');
		th.innerHTML = "${lbl:b_paciente}";
		tr.appendChild(th);

		var tbl =  document.getElementById('tabla2').getElementsByTagName('tbody')[0];
		var tr = tbl.getElementsByTagName('tr')[0];

		td = document.createElement('td');
		td.setAttribute('id',"smn_auxiliar_rf_combo2");
		td.innerHTML = "${fld:smn_auxiliar_rf_combo}";
		tr.appendChild(td);
		
  	}

	if (unidad.trim() == 'S'){

		var tr = document.getElementById('tabla').tHead.children[0],
			    th = document.createElement('th');
		th.innerHTML = "${lbl:b_service_unit}";
		tr.appendChild(th);

		var tbl =  document.getElementById('tabla').getElementsByTagName('tbody')[0];
		var tr = tbl.getElementsByTagName('tr')[0];

		td = document.createElement('td');
		td.setAttribute('id',"smn_unidad_servicio_rf");
		td.innerHTML = "${fld:smn_unidad_servicio_rf}";
		tr.appendChild(td);

		var tr = document.getElementById('tabla2').tHead.children[0],
			    th = document.createElement('th');
		th.innerHTML = "${lbl:b_service_unit}";
		tr.appendChild(th);

		var tbl =  document.getElementById('tabla2').getElementsByTagName('tbody')[0];
		var tr = tbl.getElementsByTagName('tr')[0];

		td = document.createElement('td');
		td.setAttribute('id',"smn_unidad_servicio_rf2");
		td.innerHTML = "${fld:smn_unidad_servicio_rf}";
		tr.appendChild(td);

  	}

  	if (pacienteEspera.trim() == 'S'){

  		var tr = document.getElementById('tabla').tHead.children[0],
		th = document.createElement('th');
		th.innerHTML = "${lbl:b_pac_espera}";
		tr.appendChild(th);

		var tbl =  document.getElementById('tabla').getElementsByTagName('tbody')[0];
		var tr = tbl.getElementsByTagName('tr')[0];

		td = document.createElement('td');
		td.setAttribute('id',"saldo");
		td.innerHTML = "${fld:saldo}";
		tr.appendChild(td);

		var tr = document.getElementById('tabla2').tHead.children[0],
			    th = document.createElement('th');
		th.innerHTML = "${lbl:b_pac_espera}";
		tr.appendChild(th);

		var tbl =  document.getElementById('tabla2').getElementsByTagName('tbody')[0];
		var tr = tbl.getElementsByTagName('tr')[0];

		td = document.createElement('td');
		td.setAttribute('id',"saldo2");
		td.innerHTML = "${fld:saldo}";
		tr.appendChild(td);

  	}

  	if (tiempo.trim() == 'S'){

  		var tr = document.getElementById('tabla').tHead.children[0],
			    th = document.createElement('th');
		th.innerHTML = "${lbl:b_tiempo_espera}";
		tr.appendChild(th);

		var tbl =  document.getElementById('tabla').getElementsByTagName('tbody')[0];
		var tr = tbl.getElementsByTagName('tr')[0];

		td = document.createElement('td');
		td.setAttribute('id',"tiempo");
		td.innerHTML = "${fld:tiempo}";
		tr.appendChild(td);

		var tr = document.getElementById('tabla2').tHead.children[0],
			    th = document.createElement('th');
		th.innerHTML = "${lbl:b_tiempo_espera}";
		tr.appendChild(th);

		var tbl =  document.getElementById('tabla2').getElementsByTagName('tbody')[0];
		var tr = tbl.getElementsByTagName('tr')[0];

		td = document.createElement('td');
		td.setAttribute('id',"tiempo2");
		td.innerHTML = "${fld:tiempo}";
		tr.appendChild(td);

  	}
			return ajaxCall(	
						httpMethod="POST", 
						uri="${def:actionroot}/infoRutaPaciente?serie=" + serie+"&smn_areas_servicios=${fld:smn_areas_servicios}&smn_unidad_servicios=${fld:smn_unidad_servicios}", 
						divResponse=null, 
						divProgress="status", 
						formName="form1", 
						afterResponseFn=null, 
						onErrorFn=null);	

  }	
  </script>


</head>

<body>
	<!--banner-->
	<div class="banner">
		<div class="banner_div_left">${lbl:b_monitor}</div>
					<img src="${def:context}/images/close.png" class="button" onclick="parent.closeDialog(); parent.search();" title="${lbl:b_close_button}" style="float:right; cursor:pointer;">
		<!--${fld:fname} ${fld:lname}-->

		${req:progress}
	</div>

<form name="form1" style= "display: none;">
	<input id="smn_entidades_rf" name="smn_entidades_rf" type="hidden" value= '${fld:smn_entidades_rf}'>
	<input id="smn_sucursales_rf" name="smn_sucursales_rf" type="hidden" value= '${fld:smn_sucursales_rf}'>
	<input id="smn_areas_servicios_rf" name="smn_areas_servicios_rf" type="hidden" value= '${fld:smn_areas_servicios_rf}'>
	<input id="smn_unidad_servicio_rf" name="smn_unidad_servicio_rf" type="hidden" value= '${fld:smn_unidad_servicio_rf}'>
	<input id="sri_codigo" name="sri_codigo" type="hidden" value= '${fld:sri_codigo}'>
	<input id="cvm_datos_pac" name="cvm_datos_pac" type="hidden" value= '${fld:cvm_datos_pac}'>
	<input id="cvm_unidad_llamada" name="cvm_unidad_llamada" type="hidden" value= '${fld:cvm_unidad_llamada}'>
	<input id="cvm_pacientes_espera" name="cvm_pacientes_espera" type="hidden" value= '${fld:cvm_pacientes_espera}'>
	<input id="cvm_tiempo_aprox_espera" name="cvm_tiempo_aprox_espera" type="hidden" value= '${fld:cvm_tiempo_aprox_espera}'>



</form>

<!--<h1 style = "position: fixed; top:0; left:42%; ">MONITOR</h1>-->
<h2 class="datagrid" style = "position: fixed; top:52px; left:42%; ">PACIENTE EN ATENCION</h2>
	
<table class="datagrid" id= "tabla" style="width:60%; position: fixed; top:20%; left:20%;">

	
	<!--encabezados-->
	<thead>
		<th style = "font-weight: bold; font-size: 10pt">${lbl:b_rta_ticket}</th>
		<th>${lbl:b_rta_documento}</th>

	</thead>
	<!--data-->
	<rows>
	<tbody>
		<tr style="display:none;">
		<td id="rta_ticket">${fld:rta_ticket}</td>
		<td id="rta_numero_documento_identidad">${fld:rta_numero_documento_identidad}</td>
		
	</tbody>
		
	</rows>

</table>

<br>
<br>

<!--<h2 style = "position: fixed; top:250px; left:38%; ">PROXIMOS PACIENTES A ATENDER </h2>-->
<h2 class="datagrid" style = "position: fixed; top:250px; left:40%; ">PROXIMOS PACIENTES A ATENDER</h2>
<table class="datagrid" id= "tabla2" style="width:60%; position: fixed; top:50%; left:20%;" >

	
	<!--encabezados
	<thead>
		<tr>
			PROXIMOS PACIENTES A
		</tr>
	</thead>-->
	<thead>

		<th style = "font-weight: bold; font-size: 10pt">${lbl:b_rta_ticket}</th>
		<th>${lbl:b_rta_documento}</th>

	</thead>
		
	<!--data-->
	<rowsRuta>
	<tbody>
		
		<tr style="display:none;">
		<td id="rta_ticket2">${fld:rta_ticket}</td>
		<td id="rta_numero_documento_identidad2">${fld:rta_numero_documento_identidad}</td>
		</tr>
	</tbody>
		
	</rowsRuta>

</table>
</body>
</html>
